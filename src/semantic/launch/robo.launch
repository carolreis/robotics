<?xml version="1.0" encoding="UTF-8"?>
<launch>
    <arg name="x" default="0.0"/>
    <arg name="y" default="0.0"/>
    <arg name="z" default="0.0"/>

    <!-- Para que serve esses parÃ¢metros? -->
    <arg name="name" default="p3dx3_TESTE"/>
    <arg name="namespace_arg" default="p3dx3_TESTE"/>

    <arg name="robot_model" default="$(find p3dx_description)/urdf/pioneer3dx_camera.xacro"/>
    <param name="robot_description" command="$(find xacro)/xacro '$(arg robot_model)'" />

    <node name="spawn_robot" pkg="gazebo_ros" type="spawn_model" respawn="false" output="screen" args="
                -urdf
                -unpause
                -urdf
                -param /robot_description
                -model $(arg name)
                -robot_namespace $(arg namespace_arg)
                -x $(arg x)
                -y $(arg y)
                -z $(arg z)" />

    <include file="$(find p3dx_control)/launch/control_new.launch">
        <arg name="name" value="$(arg namespace_arg)" />
        <arg name="x" value="$(arg x)" />
        <arg name="y" value="$(arg y)" />
        <arg name="namespace_arg" value="$(arg namespace_arg)" />
        <arg name="tfprefix" value="$(arg namespace_arg)_tf"/>
    </include>

    <!-- <node pkg="map_server" type="map_server" name="map_server" args="$(find semantic)/map/map.yaml"/>     -->
<!-- 
    <node pkg="amcl" type="amcl" name="amcl" output="screen">
        <remap from="scan" to="/p3dx3_TESTE/laser/scan"/>
        <param name="odom_frame_id" value="odom"/>
        <param name="odom_model_type" value="diff-corrected"/>
        <param name="base_frame_id" value="base_link"/>
        <param name="update_min_d" value="0.5"/>
        <param name="update_min_a" value="1.0"/>
    </node> -->

</launch>
